var I=Object.defineProperty;var A=(i,n,s)=>n in i?I(i,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[n]=s;var p=(i,n,s)=>A(i,typeof n!="symbol"?n+"":n,s);import{d as M,v as f,B as O,M as U,b as j,f as e,w as l,N as y,r as m,o as P,e as a,j as T,E as B}from"./vendor-B-767y0k.js";import{s as q}from"./request-C0hLSC6d.js";import{_ as C}from"./index-A75kaW5P.js";class F{constructor(){p(this,"ErrorType",0);p(this,"Error","");p(this,"Message","")}}class G extends F{constructor(){super(...arguments);p(this,"characterDesignId",0);p(this,"battleLevel",0);p(this,"count",999)}}function H(i){return q({url:"/admin/AdminDesignManagement/ShopSimulate",method:"post",params:i,data:i})}const J={class:"app-container"},K={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Q={class:"filter-section"},W={class:"charts-container"},X={class:"chart-wrapper"},Y={class:"chart-wrapper"},Z={class:"chart-wrapper"},$={class:"chart-wrapper"},ee=M({__name:"shop-simulator",setup(i){const n=f(!1),s=f(new G),w=f(),x=f(),b=f(),V=f();let r=null,u=null,d=null,c=null;const E=()=>{w.value&&(r=y(w.value)),x.value&&(u=y(x.value)),b.value&&(d=y(b.value)),V.value&&(c=y(V.value))},N=o=>{const t=(v,_,S)=>({title:{text:v},tooltip:{trigger:"axis"},xAxis:{type:"category",data:_,axisLabel:{interval:0,rotate:45}},yAxis:{type:"value"},series:[{data:S,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]});r==null||r.setOption(t("By Chip Type",o.byTypeNames,o.byTypeValues)),u==null||u.setOption(t("Active Action Chips",o.activeActionNames,o.activeActionValues)),d==null||d.setOption(t("Passive Action Chips",o.passiveActionNames,o.passiveActionValues)),c==null||c.setOption(t("Event Chips",o.eventNames,o.eventValues))},z=async()=>{if(!s.value.count){B.warning("请输入模拟次数");return}n.value=!0;try{const o=await H(s.value);N(o)}catch(o){console.error("模拟失败:",o),B.error("模拟失败")}finally{n.value=!1}},R=()=>{r==null||r.resize(),u==null||u.resize(),d==null||d.resize(),c==null||c.resize()};return O(()=>{E(),window.addEventListener("resize",R)}),U(()=>{window.removeEventListener("resize",R),r==null||r.dispose(),u==null||u.dispose(),d==null||d.dispose(),c==null||c.dispose()}),(o,t)=>{const v=m("el-input-number"),_=m("el-form-item"),S=m("el-button"),L=m("el-form"),g=m("el-col"),k=m("el-row"),D=m("el-card");return P(),j("div",J,[e(D,null,{header:l(()=>[a("div",K,[t[4]||(t[4]=a("span",null,"Shop Simulator",-1)),a("div",Q,[e(L,{inline:!0},{default:l(()=>[e(_,{label:"Character DesignId"},{default:l(()=>[e(v,{modelValue:s.value.characterDesignId,"onUpdate:modelValue":t[0]||(t[0]=h=>s.value.characterDesignId=h),min:0,placeholder:"CharacterDesignId"},null,8,["modelValue"])]),_:1}),e(_,{label:"Battle Level"},{default:l(()=>[e(v,{modelValue:s.value.battleLevel,"onUpdate:modelValue":t[1]||(t[1]=h=>s.value.battleLevel=h),min:0,placeholder:"battle level"},null,8,["modelValue"])]),_:1}),e(_,{label:"Simulate Count"},{default:l(()=>[e(v,{modelValue:s.value.count,"onUpdate:modelValue":t[2]||(t[2]=h=>s.value.count=h),min:1,"default-value":1e3,placeholder:"count"},null,8,["modelValue"])]),_:1}),e(_,null,{default:l(()=>[e(S,{type:"primary",onClick:z,loading:n.value},{default:l(()=>t[3]||(t[3]=[T(" Start ")])),_:1},8,["loading"])]),_:1})]),_:1})])])]),default:l(()=>[a("div",W,[e(k,{gutter:20},{default:l(()=>[e(g,{span:12},{default:l(()=>[a("div",X,[a("div",{ref_key:"byTypeChartRef",ref:w,style:{width:"100%",height:"400px"}},null,512)])]),_:1}),e(g,{span:12},{default:l(()=>[a("div",Y,[a("div",{ref_key:"activeActionChartRef",ref:x,style:{width:"100%",height:"400px"}},null,512)])]),_:1})]),_:1}),e(k,{gutter:20,style:{"margin-top":"20px"}},{default:l(()=>[e(g,{span:12},{default:l(()=>[a("div",Z,[a("div",{ref_key:"passiveActionChartRef",ref:b,style:{width:"100%",height:"400px"}},null,512)])]),_:1}),e(g,{span:12},{default:l(()=>[a("div",$,[a("div",{ref_key:"eventChartRef",ref:V,style:{width:"100%",height:"400px"}},null,512)])]),_:1})]),_:1})])]),_:1})])}}}),ne=C(ee,[["__scopeId","data-v-f56424f0"]]);export{ne as default};
//# sourceMappingURL=shop-simulator-B-sxZt_m.js.map
