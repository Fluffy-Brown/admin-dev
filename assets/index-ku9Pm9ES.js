import{d as _,v as w,x as y,b as V,f as t,w as a,g as x,r,o as v,e as A,j as b,y as F}from"./vendor-B-767y0k.js";import{s as P}from"./request-C0hLSC6d.js";import{_ as C}from"./index-A75kaW5P.js";function h(m){return P({url:"/admin/AdminAccountManagement/Email2FALogin",method:"post",data:m})}const k={class:"login-container"},E=_({__name:"index",setup(m){const p=x(),n=w(!1),o=y({email:"",password:"",code:""}),u={email:[{required:!0,message:"Please input email",trigger:"blur"},{type:"email",message:"Please input correct email format",trigger:"blur"}],password:[{required:!0,message:"Please input password",trigger:"blur"}],code:[{required:!0,message:"Please input 2FA code",trigger:"blur"}]},c=async()=>{try{n.value=!0;const s=F.SHA256(o.password).toString(),e=await h({email:o.email,password:s,code:o.code});localStorage.setItem("token",e.jwt),p.push("/design/HWActionDesign")}catch(s){console.error(s)}finally{n.value=!1}};return(s,e)=>{const d=r("el-input"),i=r("el-form-item"),g=r("el-button"),f=r("el-form");return v(),V("div",k,[t(f,{ref:"loginFormRef",model:o,rules:u,class:"login-form"},{default:a(()=>[e[4]||(e[4]=A("h3",{class:"title"},"HelloWar Admin",-1)),t(i,{prop:"email"},{default:a(()=>[t(d,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=l=>o.email=l),placeholder:"Email",type:"text"},null,8,["modelValue"])]),_:1}),t(i,{prop:"password"},{default:a(()=>[t(d,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=l=>o.password=l),placeholder:"Password",type:"password"},null,8,["modelValue"])]),_:1}),t(i,{prop:"code"},{default:a(()=>[t(d,{modelValue:o.code,"onUpdate:modelValue":e[2]||(e[2]=l=>o.code=l),placeholder:"2FA Code",type:"text"},null,8,["modelValue"])]),_:1}),t(g,{loading:n.value,type:"primary",style:{width:"100%"},onClick:c},{default:a(()=>e[3]||(e[3]=[b(" Login ")])),_:1},8,["loading"])]),_:1},8,["model"])])}}}),H=C(E,[["__scopeId","data-v-1944a53f"]]);export{H as default};
//# sourceMappingURL=index-ku9Pm9ES.js.map
